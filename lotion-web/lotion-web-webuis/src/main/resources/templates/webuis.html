<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- begin::Head -->
<head>
    <meta charset="utf-8" />
    <title>
        webuis
    </title>
    <meta name="description" content="Basic datatables examples">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" th:href="@{#{web.static.url} + 'assets/lotion/media/img/lotion_favicon.ico'}"/>
    <link th:href="@{#{web.static.url} + 'assets/vendors/base/vendors.bundle.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="@{#{web.static.url} + 'assets/demo/default/base/style.bundle.css'}" rel="stylesheet"  type="text/css"/>
    <!-- 自定义脚本 -->
    <script type="text/javascript">
        // 输入input中Url后按enter键可以跳转iframe
        function url_input_onkeypress(){
            const code = event.keyCode;
            const inputValue = document.getElementById("url_input").value;
            if(code === 13){
                document.getElementById("webui_iframe").src = inputValue;
            }
        }
        // 用于跟踪iframe的Url
        function webui_iframe_onload() {
            // 由于跨域问题，无法追踪非本域(网关外)的Url
            document.getElementById("url_input").value = document.getElementById("webui_iframe").contentWindow.location.href;
        }
    </script>
</head>
<body>
<!-- BEGIN: Content -->
<div class="m-content" id="main_content">
    <!-- BEGIN: WebUI Div -->
    <div id="webui_div">
        <input id="url_input" th:value="@{${whichwebui}}" type="text" class="form-control m-input" placeholder="Url" onkeypress="url_input_onkeypress()">
        <iframe id="webui_iframe" frameborder="0" th:src="@{${whichwebui}}" scrolling="yes" width="100%"
                style="height: 800px" onload="webui_iframe_onload()"></iframe>
    </div>

    <!-- END: WebUI Div -->
</div>
<!-- END: Content -->
<!-- END Content -->
<script th:src="#{web.static.url} + 'assets/vendors/base/vendors.bundle.js'" type="text/javascript"></script>
<script th:src="#{web.static.url} + 'assets/demo/default/base/scripts.bundle.js'" type="text/javascript"></script>
</body>
</html>
